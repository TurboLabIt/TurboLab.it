## 🚨 WARNING 🚨
#
# This file is under version control!
# DO NOT EDIT DIRECTLY - If you do, you'll loose your changes!
#
# You MUST:
#
# 1. edit the original file: https://github.com/TurboLabIt/TurboLab.it/blob/main/config/custom/staging/nginx-gateway-2-stargate.conf
# 2. Git-commit+push the changes
# 3. curl -o /etc/nginx/conf.d/turbolab.it-gateway.conf https://raw.githubusercontent.com/TurboLabIt/TurboLab.it/refs/heads/main/config/custom/staging/nginx-gateway-2-stargate.conf && zzws
#
# ⚠️ This file is for the GATEWAY (*stargate*) on the "tier IV data center" only ⚠️
#

## 📚 https://github.com/TurboLabIt/TurboLab.it/blob/main/docs/next-server.md

server {

  server_name next.turbolab.it;

  ## 🔏 Self-signed HTTPS certificate (stargate is a private mid-gateway server)
  ssl_certificate /usr/local/turbolab.it/webstackup/autogenerated/https-localhost.crt;
  ssl_certificate_key /usr/local/turbolab.it/webstackup/autogenerated/openssl-private-key.pem;

  ##📚 https://github.com/TurboLabIt/webstackup/blob/master/config/nginx/stargate-proxy.conf
  set $proxy_pass_target https://192.168.0.102:443;
  include /usr/local/turbolab.it/webstackup/config/nginx/stargate-proxy.conf;
}


server {

  server_name test.turbolab.it;

  ## 🔏 Self-signed HTTPS certificate (stargate is a private mid-gateway server)
  ssl_certificate /usr/local/turbolab.it/webstackup/autogenerated/https-localhost.crt;
  ssl_certificate_key /usr/local/turbolab.it/webstackup/autogenerated/openssl-private-key.pem;

  ##📚 https://github.com/TurboLabIt/webstackup/blob/master/config/nginx/stargate-proxy.conf
  set $proxy_pass_target https://192.168.0.79:443;
  include /usr/local/turbolab.it/webstackup/config/nginx/stargate-proxy.conf;
}
